var details = [
		{
			"id": "1",
			"name": "Lura Senger",
			"email": "Xander_Collier@yahoo.com"
		},
		{
			"id": "2",
			"name": "Wilburn Weber",
			"email": "Bennett_Kreiger11@yahoo.com"
		},
		{
			"id": "3",
			"name": "Tyrique Hahn",
			"email": "Juston.Altenwerth@yahoo.com"
		},
		{
			"id": "4",
			"name": "Lenny Bailey",
			"email": "Guiseppe_Hegmann@yahoo.com"
		},
		{
			"id": "5",
			"name": "Vladimir Keeling",
			"email": "Louisa_Walsh18@hotmail.com"
		},
		{
			"id": "6",
			"name": "Kellie Crona",
			"email": "Chandler_Abernathy@yahoo.com"
		},
		{
			"id": "7",
			"name": "Carolina White",
			"email": "Royal50@hotmail.com"
		},
		{
			"id": "8",
			"name": "Alfredo Conn",
			"email": "Clarabelle34@hotmail.com"
		},
		{
			"id": "9",
			"name": "Stan Shanahan",
			"email": "Lamar.McClure@hotmail.com"
		},
		{
			"id": "10",
			"name": "Marvin Fay",
			"email": "Osbaldo58@hotmail.com"
		},
		{
			"id": "11",
			"name": "Torrance Rau",
			"email": "Orin45@gmail.com"
		},
		{
			"id": "12",
			"name": "Harold Gutmann MD",
			"email": "Alyce.Stracke37@yahoo.com"
		},
		{
			"id": "13",
			"name": "Taryn Torphy",
			"email": "Dean_Breitenberg71@hotmail.com"
		},
		{
			"id": "14",
			"name": "Bryana Lang",
			"email": "Tatum.Ullrich@yahoo.com"
		},
		{
			"id": "15",
			"name": "Nyasia Green DDS",
			"email": "Dino83@gmail.com"
		},
		{
			"id": "16",
			"name": "Nasir Gerhold",
			"email": "Lilian_Bashirian8@hotmail.com"
		},
		{
			"id": "17",
			"name": "Raymundo Ritchie PhD",
			"email": "Antwan.Schoen15@yahoo.com"
		},
		{
			"id": "18",
			"name": "Delmer Marvin",
			"email": "Kiera62@yahoo.com"
		},
		{
			"id": "19",
			"name": "Rachel Wilkinson",
			"email": "Foster_Conroy@gmail.com"
		},
		{
			"id": "20",
			"name": "Gladys Howell",
			"email": "Constance.Labadie10@yahoo.com"
		},
		{
			"id": "21",
			"name": "Ciara Klocko",
			"email": "Harvey76@yahoo.com"
		},
		{
			"id": "22",
			"name": "Quentin O'Kon",
			"email": "Amely_Cummings2@yahoo.com"
		},
		{
			"id": "23",
			"name": "Ms. Gabriella Kunde",
			"email": "Lorenza_Cummerata@hotmail.com"
		},
		{
			"id": "24",
			"name": "Gerald Reilly",
			"email": "Lia_Konopelski@gmail.com"
		},
		{
			"id": "25",
			"name": "Brody Carter I",
			"email": "Colten.Wilderman90@hotmail.com"
		},
		{
			"id": "26",
			"name": "Alanis Klocko",
			"email": "Johathan.Champlin69@gmail.com"
		},
		{
			"id": "27",
			"name": "Caroline Miller",
			"email": "Delaney.Kozey74@gmail.com"
		},
		{
			"id": "28",
			"name": "Ms. Merritt McClure",
			"email": "Wendy.Zieme@gmail.com"
		},
		{
			"id": "29",
			"name": "Jovani Schoen",
			"email": "Norval_Zieme@hotmail.com"
		},
		{
			"id": "30",
			"name": "Berniece Bradtke",
			"email": "Okey.Fisher39@hotmail.com"
		},
		{
			"id": "31",
			"name": "Hanna Gottlieb",
			"email": "Edna62@hotmail.com"
		},
		{
			"id": "32",
			"name": "Christiana Bergnaum",
			"email": "Donnie.Paucek22@gmail.com"
		},
		{
			"id": "33",
			"name": "Reid Stehr",
			"email": "Hiram69@gmail.com"
		},
		{
			"id": "34",
			"name": "Evans Ward",
			"email": "Liliane72@hotmail.com"
		},
		{
			"id": "35",
			"name": "Miss Enos Davis",
			"email": "Kolby.Grady@hotmail.com"
		},
		{
			"id": "36",
			"name": "Mathew Lueilwitz",
			"email": "Mariah.Hagenes@yahoo.com"
		},
		{
			"id": "37",
			"name": "Romaine Robel",
			"email": "Sheila19@yahoo.com"
		},
		{
			"id": "38",
			"name": "Immanuel Aufderhar",
			"email": "Aileen32@hotmail.com"
		},
		{
			"id": "39",
			"name": "Julius Reilly Jr.",
			"email": "Santa89@yahoo.com"
		},
		{
			"id": "40",
			"name": "Linnea Borer",
			"email": "Jarrett_Hegmann2@hotmail.com"
		},
		{
			"id": "41",
			"name": "Misael Abernathy IV",
			"email": "Robbie42@yahoo.com"
		},
		{
			"id": "42",
			"name": "Mr. Gerda Jerde",
			"email": "Gustave36@hotmail.com"
		},
		{
			"id": "43",
			"name": "Easton Daugherty",
			"email": "Malcolm.Schuster11@hotmail.com"
		},
		{
			"id": "44",
			"name": "Leanna Gutkowski",
			"email": "Chelsea9@gmail.com"
		},
		{
			"id": "45",
			"name": "Rollin Trantow",
			"email": "Marques_Hickle26@gmail.com"
		},
		{
			"id": "46",
			"name": "Heaven Luettgen",
			"email": "Lonnie.Greenfelder95@hotmail.com"
		},
		{
			"id": "47",
			"name": "Gilda Huel",
			"email": "Stephania.Hintz@gmail.com"
		},
		{
			"id": "48",
			"name": "Javon Walker",
			"email": "Lamar_Bailey39@yahoo.com"
		},
		{
			"id": "49",
			"name": "Stewart King",
			"email": "Chasity_Jenkins82@gmail.com"
		},
		{
			"id": "50",
			"name": "Cortez Lueilwitz",
			"email": "Lelia.Mitchell43@gmail.com"
		},
		{
			"id": "51",
			"name": "Ora Kilback",
			"email": "Matt25@gmail.com"
		},
		{
			"id": "52",
			"name": "Lera Macejkovic",
			"email": "Jamal.Donnelly45@hotmail.com"
		},
		{
			"id": "53",
			"name": "Asa Gottlieb",
			"email": "Carolyne.Langosh@yahoo.com"
		},
		{
			"id": "54",
			"name": "Avery Nienow",
			"email": "Hudson_Bernhard47@yahoo.com"
		},
		{
			"id": "55",
			"name": "Dr. Katrine Ryan",
			"email": "Colten40@gmail.com"
		},
		{
			"id": "56",
			"name": "Florida Kulas",
			"email": "Alejandra_Bernhard@yahoo.com"
		},
		{
			"id": "57",
			"name": "Mauricio Gerlach",
			"email": "Vincenza_Gusikowski84@hotmail.com"
		},
		{
			"id": "58",
			"name": "Chadrick Simonis",
			"email": "Reymundo.Doyle@gmail.com"
		},
		{
			"id": "59",
			"name": "Beau Jenkins",
			"email": "Cletus65@hotmail.com"
		},
		{
			"id": "60",
			"name": "Camilla Cole",
			"email": "Eda48@yahoo.com"
		},
		{
			"id": "61",
			"name": "Abagail MacGyver",
			"email": "Jevon.Koch@hotmail.com"
		},
		{
			"id": "62",
			"name": "Ludwig Prohaska",
			"email": "Eldon_DuBuque37@yahoo.com"
		},
		{
			"id": "63",
			"name": "Berenice Hane",
			"email": "Lonnie3@gmail.com"
		},
		{
			"id": "64",
			"name": "Abel Durgan",
			"email": "Marlee.Weimann42@gmail.com"
		},
		{
			"id": "65",
			"name": "Tate Kuhlman",
			"email": "Hope31@yahoo.com"
		},
		{
			"id": "66",
			"name": "Mrs. Hermina Daniel",
			"email": "Murphy59@yahoo.com"
		},
		{
			"id": "67",
			"name": "Marcelino Nienow",
			"email": "Estefania_Dibbert97@hotmail.com"
		},
		{
			"id": "68",
			"name": "Raphaelle Connelly",
			"email": "Josie.Legros70@yahoo.com"
		},
		{
			"id": "69",
			"name": "Mina Heaney",
			"email": "Pete.Hermann79@hotmail.com"
		},
		{
			"id": "70",
			"name": "Jaida Torp",
			"email": "Jonatan82@yahoo.com"
		},
		{
			"id": "71",
			"name": "Megane Fadel",
			"email": "Dandre82@yahoo.com"
		},
		{
			"id": "72",
			"name": "Angelo Schimmel V",
			"email": "Frederic54@hotmail.com"
		},
		{
			"id": "73",
			"name": "Jaren Ferry DDS",
			"email": "Kristian.Kilback@yahoo.com"
		},
		{
			"id": "74",
			"name": "Annette O'Connell",
			"email": "Domenica.Christiansen@gmail.com"
		},
		{
			"id": "75",
			"name": "Elenor Rohan PhD",
			"email": "Alvera.Huel48@yahoo.com"
		},
		{
			"id": "76",
			"name": "Linnie Beier",
			"email": "Reece_Berge@gmail.com"
		},
		{
			"id": "77",
			"name": "Maybelle Lehner",
			"email": "Arlo.Hagenes@gmail.com"
		},
		{
			"id": "78",
			"name": "Hailie Haag",
			"email": "Edythe.Lind59@hotmail.com"
		},
		{
			"id": "79",
			"name": "Marcelina Schuppe",
			"email": "Kip.Cummerata77@gmail.com"
		},
		{
			"id": "80",
			"name": "Ezra Lang",
			"email": "Garret.Swaniawski@hotmail.com"
		},
		{
			"id": "81",
			"name": "Carey Kiehn",
			"email": "Sabrina70@gmail.com"
		},
		{
			"id": "82",
			"name": "Carole Aufderhar",
			"email": "Efrain.Schamberger77@hotmail.com"
		},
		{
			"id": "83",
			"name": "Fanny Beatty",
			"email": "Ewald28@yahoo.com"
		},
		{
			"id": "84",
			"name": "Mina Lubowitz",
			"email": "Vincenzo.Herman@gmail.com"
		},
		{
			"id": "85",
			"name": "Anabelle Thiel",
			"email": "Amely.Renner@hotmail.com"
		},
		{
			"id": "86",
			"name": "Gerry Homenick",
			"email": "Ada_Von54@hotmail.com"
		},
		{
			"id": "87",
			"name": "Domenico Maggio",
			"email": "Freeman.Stamm@yahoo.com"
		},
		{
			"id": "88",
			"name": "Mauricio Bradtke III",
			"email": "Alford83@yahoo.com"
		},
		{
			"id": "89",
			"name": "Bulah Yost III",
			"email": "Nicolas_Schimmel6@yahoo.com"
		},
		{
			"id": "90",
			"name": "Orville Dibbert DDS",
			"email": "Bryana_Herzog@yahoo.com"
		},
		{
			"id": "91",
			"name": "Autumn Osinski",
			"email": "Davin8@hotmail.com"
		},
		{
			"id": "92",
			"name": "Levi Gibson",
			"email": "Deangelo69@gmail.com"
		},
		{
			"id": "93",
			"name": "Reva McKenzie",
			"email": "Bret40@hotmail.com"
		},
		{
			"id": "94",
			"name": "Jensen Pfannerstill",
			"email": "Dax_Marquardt@hotmail.com"
		},
		{
			"id": "95",
			"name": "Tyrese Larson MD",
			"email": "Cecelia85@yahoo.com"
		},
		{
			"id": "96",
			"name": "Dayne Sanford",
			"email": "Tyrique_Waters16@hotmail.com"
		},
		{
			"id": "97",
			"name": "Jeramy Steuber",
			"email": "Catalina.Stehr24@yahoo.com"
		},
		{
			"id": "98",
			"name": "Madge Bogisich",
			"email": "Joey.Marquardt50@gmail.com"
		},
		{
			"id": "99",
			"name": "Casimer MacGyver",
			"email": "Julius.Bednar96@yahoo.com"
		},
		{
			"id": "100",
			"name": "Arlene Kassulke",
			"email": "Josiane_Smith@yahoo.com"
		}
]

let detailsContainer = document.createElement('div');
detailsContainer.setAttribute('class','container');

let detailsRow = document.createElement('div');
detailsRow.setAttribute('class','row');

let detailsCol = document.createElement('div')
detailsCol.setAttribute('class','offset-3 col-6');

let detailsTable = document.createElement('table');
detailsTable.setAttribute('class','table');

let detailsHead = document.createElement('thead')
detailsHead.setAttribute('class','thead-dark');

let detailsHeaderRow = document.createElement('tr');

let detailsHeaderId = document.createElement('th')
detailsHeaderId.setAttribute('scope','col');
detailsHeaderId.innerHTML = '#';

let detailsHeaderName = document.createElement('th');
detailsHeaderName.setAttribute('scope','col');
detailsHeaderName.innerHTML = 'Name';

let detailsHeaderEmail = document.createElement('th');
detailsHeaderEmail.setAttribute('scope','col');
detailsHeaderEmail.innerHTML = 'Email';

let detailsBody = document.createElement('tbody');
detailsBody.setAttribute('class','data');


detailsHeaderRow.append(detailsHeaderId,detailsHeaderName,detailsHeaderEmail);
detailsHead.append(detailsHeaderRow);
detailsTable.append(detailsHead, detailsBody);
detailsCol.append(detailsTable);
detailsRow.append(detailsCol);
detailsContainer.append(detailsRow);

let pageNavList = document.createElement('ul');
pageNavList.setAttribute('class', 'pagination justify-content-center');

let liPrevious = document.createElement('li');
liPrevious.setAttribute('class','page-item');
var prev = document.createElement('a');
prev.setAttribute('class', 'page-link');
prev.setAttribute('href', '#');
prev.setAttribute('id',"Previous");
prev.innerHTML = 'Previous';
prev.style.display = 'none';
liPrevious.append(prev);
pageNavList.appendChild(liPrevious);

function pageLinkCreate(id){
	var li = document.createElement('li');
	li.setAttribute('class','page-item');
	var a = document.createElement('a');
	a.setAttribute('class', 'page-link');
	a.setAttribute('href', '#');
	a.setAttribute('id',id);
	a.innerHTML = id;
	li.append(a);
	pageNavList.appendChild(li);
}

//creating all links
for(let i=1; i<=10; i++){
	pageLinkCreate(i);
}

let liNext = document.createElement('li');
liNext.setAttribute('class','page-item');
var next = document.createElement('a');
next.setAttribute('class', 'page-link');
next.setAttribute('href', '#');
next.setAttribute('id',"Previous");
next.innerHTML = 'Next';
next.style.display = 'none';
liNext.append(next);
pageNavList.appendChild(liNext);

//select to change number of rows per page
let factorsContainer = document.createElement('div');
factorsContainer.setAttribute('class','container');

let factorsRow = document.createElement('div');
factorsRow.setAttribute('class','row');

let factorsCol = document.createElement('div')
factorsCol.setAttribute('class','offset-3 col-6');

let factors = document.createElement('select');
factors.setAttribute('class','custom-select w-50');

let option1 = document.createElement('option');
option1.setAttribute('value','10');
option1.innerHTML = 10;

let option2 = document.createElement('option');
option2.setAttribute('value','20');
option2.innerHTML = 20;

let option3 = document.createElement('option');
option3.setAttribute('value','50');
option3.innerHTML = 50;

let option4 = document.createElement('option');
option4.setAttribute('value','100');
option4.setAttribute('selected','selected');
option4.innerHTML = 100;

let para = document.createElement('p');
para.style.display = 'inline-block';
para.innerHTML = '&nbsp rows per page';

factors.append(option1, option2, option3, option4);
factorsCol.append(factors, para);
factorsRow.append(factorsCol);
factorsContainer.append(factorsCol);
document.body.append(detailsContainer, pageNavList, factorsContainer);


//linking select options to pagination
let e = document.querySelector('select');
e.addEventListener('change', function(){
	let selected = e.options[e.selectedIndex].text;
	if(selected === '10'){
		let page = document.querySelectorAll('a');
		for(let i=1; i<=10; i++){
			if(page[i].innerHTML <= 10 && page[i].style.display === 'none'){
				page[i].style.display = 'block';
			}
		}
	}
	else if(selected === '20'){
		let page = document.querySelectorAll('a');
		for(let i=1; i<=10; i++){
			if(page[i].innerHTML <= 5 && page[i].style.display === 'none'){
				page[i].style.display = 'block';
			}
			if(page[i].innerHTML > 5 && page[i].innerHTML <= 10){
				page[i].style.display = 'none';
			}
		}
	}
	else if(selected === '50'){
		let page = document.querySelectorAll('a');
		for(let i=1; i<=10; i++){
			if(page[i].innerHTML <= 2 && page[i].style.display === 'none'){
				page[i].style.display = 'block';
			}
			if(page[i].innerHTML > 2 && page[i].innerHTML <= 10){
				page[i].style.display = 'none';
			}
		}
	}
	else{
		let page = document.querySelectorAll('a');
		for(let i=1; i<=10; i++){
			if(page[i].innerHTML > 1 && page[i].innerHTML <= 10){
				page[i].style.display = 'none';
			}
		}
	}
});

//changing number of links to 1 for default display of 100 rows per page on first load of page
let selected = e.options[e.selectedIndex].text;
if(selected === '100'){
	let page = document.querySelectorAll('a');
	for(let i=1; i<=10; i++){
		if(page[i].innerHTML > 1 && page[i].innerHTML <= 10){
			page[i].style.display = 'none';
		}
	}
}

//displaying all 100 rows
for(let j=1; j<=100; j++){
	let id = document.createElement('td');
	id.setAttribute('scope','col');
	let name = document.createElement('td');
	name.setAttribute('scope','col');
	let email = document.createElement('td');
	email.setAttribute('scope','col');
	let row = document.createElement('tr');
	row.setAttribute('class','details');
	row.setAttribute('id', 'row'+j);
	let body = document.querySelector('.data');
	id.innerHTML = details[j-1].id;
	name.innerHTML = details[j-1].name;
	email.innerHTML = details[j-1].email;
	row.append(id,name,email);
	body.append(row);
}

//on changing page number after selecting how many rows per page, this gets executed.
document.querySelectorAll('.page-link').forEach(i => {
	let pageNumber = parseInt(i.innerHTML);
	e.addEventListener('change', function(){
		let selected = parseInt(e.options[e.selectedIndex].text);
		i.addEventListener('click', function() {
			displayRowsForSelected(selected, pageNumber);
		});
	});
});


function displayRowsForSelected(selected, pageNumber){
	if(selected === 100){
		let rows = document.querySelectorAll('.details');
		if(pageNumber === 1){
			for(let i=selected*(pageNumber-1); i<selected*pageNumber; i++){
				if(rows[i].style.display === 'none'){
					rows[i].style.display = 'table-row';
				}
			}
		}
	}
	else{
		let rows = document.querySelectorAll('.details');
		for(let i=1; i<=pageNumber; i++){
			if(pageNumber === 1){
				for(let i=selected*pageNumber; i<100; i++){
					rows[i].style.display = 'none';
				}
				for(let i=selected*(pageNumber-1); i<selected*pageNumber; i++){
					if(rows[i].style.display === 'none'){
						rows[i].style.display = 'table-row';
					}
				}
			}
			else{
				for(let i=selected*(pageNumber); i<100; i++){
					rows[i].style.display = 'none';
				}
				for(let i=0; i<selected*(pageNumber-1); i++){
					rows[i].style.display = 'none';
				}
				for(let i=selected*(pageNumber-1); i<selected*pageNumber; i++){
					if(rows[i].style.display === 'none'){
						rows[i].style.display = 'table-row';
					}
				}
			}
		}
	}
}

function info(){
	alert('By default, the page displays all 100 rows of data. For checking the functionality, please scroll down to the bottom and follow instructions. First, you need to select how many rows of data you want to display per page, then you need to click on the page number.');
}
